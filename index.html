<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Simple One‑Page Journal · Tailwind Beginner Version</title>

    <!--
        ADD TAILWIND
    -->
    <script src="https://cdn.tailwindcss.com"></script>


    <style>
        /* make the textarea resize */
        textarea {
            resize: vertical;
        }
    </style>
</head>

<!--
    min-h-screen → make body at least the full screen height
    bg-slate-50 → soft gray background
    antialiased → smoother font rendering
  -->

<body class="min-h-screen bg-dark-50 antialiased text-slate-900">
    <!--
      A centered container.
      max-w-2xl → readable line length
      mx-auto   → horizontally center
      p-4 sm:p-6 → padding that grows on small screens and up
    -->

    <!-- text-2xl → larger font size; font-bold → bold; tracking-tight → slightly tighter spacing -->

    <main class="max-w-6xl mx-auto p-4 sm:p-6">
        <!-- image-->
        <section class="mb-8 w-full border rounded-3xl">
            <img src="assets/images/Frame 274.png" alt="">
        </section>

        <!-- Heading -->
        <header class="mb-6">
            <h1 class="text-2xl font-bold tracking-tight">My Journal</h1>
            <p class="text-sm text-slate-600">Entries are saved in your browser (localStorage). No server needed.</p>
        </header>

        <!--
        - bg-white (background)
        - rounded-2xl (big rounded corners)
        - shadow (soft shadow)
        - border border-slate-200 (thin subtle border)
      -->
        <section class="bg-white rounded-3xl border border-slate-200 p-4 sm:p-6 mb-6">

            <form id="entryForm" class="space-y-4">
                <div>
                    <!-- Title H2 -->
                    <label for="title" class="block text-sm font-medium mb-2">Title</label>
                    <!-- Title Field -->
                    <input  
                        id="title" 
                        name="title" 
                        type="text" 
                        required placeholder="e.g., Walk by the lake"
                        class="w-full border border-slate-200 rounded-3xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-300 " 
                    />
                </div>

                <div>
                    <!-- title h2 -->
                    <label for="body" class="block text-sm font-medium mb-2"> Entry </label>
                    <!-- journal entry -->
                    <textarea id="body" name="body" rows="12" type= "text" required placeholder="e.g., Walk by the lake" 
                        class= "w-full border border-slate-200 rounded-3xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-300">
                    </textarea>
                </div>

            <!--
            Buttons: bg-slate-900 (dark), text-white, rounded, hover: and active: states
            Tailwind supports state prefixes like hover:, focus:, active:, disabled:
            -->
                <div class="flex items-center gap-3">
                    <button type="submit"
                        class="bg-slate-900 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-slate-800 active:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-300">
                        Save Entry
                    </button>
                    <button id="clearAllBtn" type="button" class="text-sm border border-red-600 px-4 py-2 rounded-md text-red-600 hover:underline">
                        Clear all
                    </button>
                </div>
            </form>
        </section>

        <!-- ENTRIES LIST -->
        <section>
            <h2 class="text-lg font-semibold mb-3">Entries</h2>
            <!--
          We will inject list items here with JavaScript.
          grid gap-3 → vertical spacing between cards
        -->
            <ul id="entries" class="grid gap-3"></ul>

            <!-- Empty state when no entries yet -->
            <p id="emptyState" class="hidden mt-4 text-sm text-slate-600">No entries yet. Write your first one above!
            </p>
        </section>

    </main>


    <!--
      ================================
      VERY SIMPLE APP LOGIC (VANILLA JS)

      - Store entries (title, body, createdAt) in localStorage
      - Render a simple card per entry
      - Allow delete
    -->
    <script>
        const STORAGE_KEY = "journal.beginner.v1";

        // Load & Save helpers for localStorage
        function loadEntries() {
            try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; }
            catch { return []; }
        }
        function saveEntries(list) { localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); }

        let entries = loadEntries();

        // DOM elements
        const form = document.getElementById('entryForm');
        const titleEl = document.getElementById('title');
        const bodyEl = document.getElementById('body');
        const listEl = document.getElementById('entries');
        const emptyEl = document.getElementById('emptyState');
        const clearAllBtn = document.getElementById('clearAllBtn');

        // Render function: rebuild the list each time
        function render() {
            listEl.innerHTML = '';
            if (entries.length === 0) {
                emptyEl.classList.remove('hidden');
                return;
            }
            emptyEl.classList.add('hidden');

            // Newest first
            const sorted = [...entries].sort((a, b) => b.createdAt - a.createdAt);

            for (const e of sorted) {
                const li = document.createElement('li');
                //
                // Tailwind classes used to style each entry card:
                // - bg-white rounded-2xl shadow border → make a card
                // - p-4 → padding inside
                // - text-slate-700 → comfortable text color
                //
                li.className = 'bg-white rounded-2xl shadow border border-slate-200 p-4';
                li.innerHTML = `
            <article>
              <div class="flex items-start justify-between gap-3 mb-1">
                <h3 class="font-semibold text-base">${escapeHtml(e.title)}</h3>
                <button data-id="${e.id}" class="delete text-xs text-red-600 hover:underline">Delete</button>
              </div>
              <p class="text-xs text-slate-500 mb-2">${new Date(e.createdAt).toLocaleString()}</p>
              <p class="text-sm text-slate-700 whitespace-pre-wrap">${escapeHtml(e.body)}</p>
            </article>
          `;
                listEl.appendChild(li);
            }
        }

        // Add entry on form submit
        form.addEventListener('submit', (ev) => {
            ev.preventDefault();
            const title = titleEl.value.trim();
            const body = bodyEl.value.trim();
            if (!title || !body) return; // simple guard
            entries.push({ id: crypto.randomUUID(), title, body, createdAt: Date.now() });
            saveEntries(entries);
            form.reset();
            titleEl.focus();
            render();
        });

        // Delete handler using event delegation
        listEl.addEventListener('click', (ev) => {
            const btn = ev.target.closest('button.delete');
            if (!btn) return;
            const id = btn.getAttribute('data-id');
            entries = entries.filter(e => e.id !== id);
            saveEntries(entries);
            render();
        });

        // Clear all entries
        clearAllBtn.addEventListener('click', () => {
            if (entries.length === 0) return;
            if (!confirm('Clear ALL entries?')) return;
            entries = [];
            saveEntries(entries);
            render();
        });

        // Basic HTML escaping
        function escapeHtml(str) {
            return str
                .replaceAll('&', '&amp;')
                .replaceAll('<', '&lt;')
                .replaceAll('>', '&gt;')
                .replaceAll('"', '&quot;')
                .replaceAll("'", '&#39;');
        }

        // Initial paint
        render();
    </script>
</body>

